# 简易解密工具 (v4.0)

这是一个用于解密特定格式加密文件的简易工具，具有以下特点：

1. 无界面自动解密：双击运行后自动识别并解密同目录下的txt文件
2. 自动识别文件：自动扫描同目录下的加密文件
3. 自动提取标识符：从文件名中智能提取中文标识符
4. 直接复制到剪贴板：解密后的内容会自动复制到剪贴板，无需中间文件
5. 设备绑定：每个设备有唯一ID，需要授权才能解密
6. 一次性解密：每个文件只能被同一设备解密一次，增强安全性
7. 单实例运行：确保系统中只有一个解密程序在运行
8. 解密后自动终止：完成解密后自动退出，再次解密时需要重新运行

## 文件说明

- `simple_decrypt_tool.py` - 简易解密工具源代码
- `build_simple_decrypt_tool.py` - 构建独立可执行文件的脚本
- `test_decrypt.py` - 解密功能测试脚本
- `dist/解密工具_[系统名]` - 打包后的可执行文件（使用PyInstaller生成）

## 使用方法

### 直接使用Python脚本

1. 确保已安装Python 3.8或更高版本
2. 安装必要的依赖：`pip install pyperclip cryptography`
3. 将`simple_decrypt_tool.py`与需要解密的文件放在同一目录下
4. 运行脚本：`python simple_decrypt_tool.py`
5. 程序将自动识别并解密同目录下的txt文件

### 使用独立可执行文件

1. 将打包好的可执行文件（`dist/解密工具_xxx`）复制到需要解密文件的目录中
2. 双击运行此可执行文件
3. 工具会自动识别并解密文件夹中的txt文件
4. 解密后的内容会自动复制到剪贴板中
5. 程序解密完成后自动退出

## 加密文件命名规则

加密文件的命名格式应为：`标识符_内容_金额XX元_XX张_加密.txt`

例如：`红_W15_金额1600元_56张_加密.txt`，其中：
- `红`是标识符（必须是中文字符）
- 标识符通常在文件名的第一个下划线之前

## 打包说明

如需在本地环境中打包为独立可执行文件，请执行以下步骤：

1. 安装必要的依赖：`pip install pyinstaller pyperclip cryptography`
2. 运行打包脚本：`python build_simple_decrypt_tool.py`
3. 在`dist`目录中找到打包好的可执行文件

也可以直接使用PyInstaller命令：

```
pyinstaller --onefile --windowed --clean --name=解密工具 simple_decrypt_tool.py
```

## 特别说明

- 程序保证系统中只运行一个解密工具实例
- 如需再次解密新文件，需要双击程序重新运行
- 程序启动时会自动终止之前运行的实例

## 常见问题

### 设备ID未授权

如果收到"当前设备ID不在标识符的授权列表中"的错误，请点击错误提示中的"确定"按钮，然后将设备ID发送给管理员添加到授权列表中。

### 文件已被解密过

每个加密文件只能被解密一次，如果文件已被解密过，将无法再次解密。如确实需要重新解密，请清除用户主目录下的`.sportsbet/decrypt_history.json`文件。

### 无法识别标识符

确保文件名格式正确，包含中文标识符，例如：`红_W15_金额1600元_56张_加密.txt`。

### 无法复制到剪贴板

某些系统可能限制程序访问剪贴板，请确保程序有足够的权限。如果仍然无法复制，请尝试手动复制解密后显示的内容。